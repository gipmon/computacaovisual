<!DOCTYPE html>

<html>

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

	<title>Puzzle by RRTeam</title>

	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/3dbtn.css">
	<link rel="stylesheet" type="text/css" href="css/circlebtn.css">
	<link rel="stylesheet" type="text/css" href="css/material-btn.css">
	<link rel="stylesheet" type="text/css" href="css/font-awesome.css">
	<link rel="stylesheet" type="text/css" href="css/notice.css">
	<link href="http://www.ua.pt/images/ua.ico" rel="shortcut icon" />

</head>

<body onload="runWebGL();">
	<div class="container-fluid">
		<nav class="navbar navbar-default">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><strong>WebGL Puzzle</strong></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
						<li><a href="#"><i class="fa fa-users"></i> Authors</a></li>
            <li><a href="#"><i class="fa fa-flag"></i> Help</a></li>
          </ul>
      	</div><!-- /.container -->
			</div>
  	</nav>

		<div class="container">
			<div class="row">
				<div class="col-lg-4">
			    <div class="well">
						<h4>Puzzle:</h4>
						<img id="puzzleImg" src="img/puzzles/puzzle1.png" />
			      <h4>Select the figure:</h4>
						<div id="btns">
						</div>
						<h4>Figure position:</4>
						<div class="input-group number-spinner">
							<input type="text" id="posX" style="width: 50px; font-size: 8px;" data-toggle="tooltip" data-placement="top" title="Translation x" class="form-control text-center input-danger" value="0.4" readonly="true">
							<input type="text" id="posY" style="width: 50px; font-size: 8px" data-toggle="tooltip" data-placement="top" title="Translation y" class="form-control text-center input-danger" value="0.4" readonly="true">
							<input type="text" id="posZ" style="width: 50px; font-size: 8px" data-toggle="tooltip" data-placement="top" title="Translation z" class="form-control text-center input-danger" value="0.4" readonly="true">
							<input type="text" id="angleX" style="width: 50px; font-size: 8px" data-toggle="tooltip" data-placement="top" title="Angle X" class="form-control text-center input-danger" value="0.4" readonly="true">
							<input type="text" id="angleY" style="width: 50px; font-size: 8px" data-toggle="tooltip" data-placement="top" title="Angle Y" class="form-control text-center input-danger" value="0.4" readonly="true">
							<input type="text" id="angleZ" style="width: 50px; font-size: 8px" data-toggle="tooltip" data-placement="top" title="Angle Z" class="form-control text-center input-danger" value="0.4" readonly="true">
						</div>
						<h4>Controls:</h4>
						<table>
							<tr>
								<td>
									<button id="xM45" class="btn btn-default btn-sm btn3d"><strong>X</strong> <i class="fa fa-rotate-left"></i></button>
									<button id="xm45" class="btn btn-default btn-sm btn3d"><strong>X</strong> <i class="fa fa-rotate-right"></i></button>
									&nbsp;&nbsp;
								</td>
								<td>
									<button id="yM45" class="btn btn-default btn-sm btn3d"><strong>Y</strong> <i class="fa fa-rotate-left"></i></button>
									<button id="ym45" class="btn btn-default btn-sm btn3d"><strong>Y</strong> <i class="fa fa-rotate-right"></i></button>
									&nbsp;&nbsp;
								</td>
								<td>
									<button id="zM45" class="btn btn-default btn-sm btn3d"><strong>Z</strong> <i class="fa fa-rotate-left"></i></button>
									<button id="zm45" class="btn btn-default btn-sm btn3d"><strong>Z</strong> <i class="fa fa-rotate-right"></i></button>
								</td>
							</tr>
						</table>
						<table>
							<tr>
								<td colspan="2">
									<div class="input-group number-spinner">
										<span class="input-group-btn">
											<button class="btn btn-default" data-dir="dwn"><span class="glyphicon glyphicon-minus"></span></button>
										</span>
										<input type="text" id="desc" style="width: 60px" class="form-control text-center" value="1" readonly="true">
										<span class="input-group-btn">
											<button class="btn btn-default" data-dir="up"><span class="glyphicon glyphicon-plus"></span></button>
										</span>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<button id="resetLevel"  data-toggle="tooltip" data-placement="top" title="Reset all the current level values" class="btn btn-danger btn-sm btn3d"><strong><i class="fa fa-eraser"></i> Level</strong></button>
								</td>
								<td>
									<button id="resetValues" data-toggle="tooltip" data-placement="top" title="Reset the current figure positions" class="btn btn-danger btn-sm btn3d"><strong><i class="fa fa-eraser"></i> Figure Positions</strong></button>
								</td>
							</tr>
						</table>
						<h4>Game state:</h4>
						<div id="noticeMessage">
							<div  id="informationNotice" class="notice notice-sm">
					    	<strong>Unfinished!</strong> Please move the pieces for the correct place.
					    </div>
							<div id="successNotice" class="notice notice-success notice-sm" style="display: none">
					        <strong>Finished!</strong> Good! Go to the next level!!
					    </div>
						</div>
			    </div>
				</div>
				<div class="col-lg-8 text-center">
				<!--<style type="text/css" media="screen">
						canvas, img { display:block; margin:1em auto; border:1px solid black; }
							canvas { background:url(img/background.jpg) }
				</style> -->
					<canvas id="webgl-id" style="border: 1px solid #E0E0E0; background:url(img/background.jpg)" width="600" height="600"></canvas>
				</div>
			</div>
		</div>
	</div>

	<script id="shader-vs" type="x-shader/x-vertex">
	    attribute vec3 aVertexPosition;

	    attribute vec3 aVertexColor;

	    uniform mat4 uMVMatrix;

	    uniform mat4 uPMatrix;

	    varying vec4 vertexColor;

	    void main(void) {

			// To allow seeing the points drawn

			gl_PointSize = 5.0;

			// Just converting the (x,y,z) vertices to Homogeneous Coord.

			// And multiplying by the Projection and the Model-View matrix

	        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

	        // Converting the RGB color value to RGBA

	        vertexColor = vec4(aVertexColor, 1.0);
	    }
	</script>

	<script id="shader-fs" type="x-shader/x-fragment">
		precision mediump float;

		varying vec4 vertexColor;

		void main(void) {

			// Using the passed vertex color

			gl_FragColor = vertexColor;
		}
	</script>

	<!-- The JS files -->
	<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>

	<!-- Some useful functions for browser compatibility -->
	<script type="text/javascript" src="js/webgl-utils.js"></script>

	<!-- Handling vectors and matrices -->
	<script type="text/javascript" src="js/maths.js"></script>

	<!-- Processing triangle mesh models -->
	<script type="text/javascript" src="js/models.js"></script>
	<script type="text/javascript" src="js/listeners.js"></script>
	<script type="text/javascript" src="js/parseFiles.js"></script>

	<!-- WebGL code -->
	<script type="text/javascript" src="js/initShaders.js"></script>
	<script type="text/javascript" src="js/Models.class.js"></script>
	<script type="text/javascript" src="js/CanvasWebGl.class.js"></script>
	<script type="text/javascript" src="js/Puzzle.js"></script>
	<script type="text/javascript" src="js/setScreen.js"></script>
	<script type="text/javascript" src="js/PuzzleGame.js"></script>
	<!-- end -->

	<script type="text/javascript" src="js/bootstrap.js"></script>
	<script type="text/javascript" src="js/document.jquery.js"></script>
</body>

</html>
